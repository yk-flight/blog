<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.zrkizzy.data.mapper.RoleMapper">
    <!-- 角色表基本列 -->
    <sql id="base_column">
        id, `name`, description, create_time, update_time
    </sql>

    <!-- 添加新的角色 -->
    <insert id="insertRole">
        INSERT INTO
            tb_role(<include refid="base_column"></include>)
        VALUES
            (#{id}, #{name}, #{description}, #{createTime}, #{updateTime})
    </insert>

    <!-- 更新角色 -->
    <update id="updateRoleById">
        UPDATE
            tb_role
        SET
            name = #{name}, description = #{description}, update_time = #{updateTime}
        WHERE
            `id` = #{id}
    </update>

    <!-- 获取所有角色 -->
    <select id="listRoles" resultType="com.zrkizzy.data.domain.Role">
        SELECT
            <include refid="base_column"></include>
        FROM
            tb_role
    </select>

    <!-- 根据角色名称获取角色 -->
    <select id="getRoleByName" resultType="com.zrkizzy.data.domain.Role">
        SELECT
            <include refid="base_column"></include>
        FROM
            tb_role
        WHERE
            name = #{name}
    </select>

</mapper>